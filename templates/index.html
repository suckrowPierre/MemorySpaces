<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memory Spaces</title>
<link rel="stylesheet" href="/static/css/style.css">
<link rel="stylesheet" href="/static/css/modal.css">
<link rel="stylesheet" href="/static/css/bubbles.css">
<link rel="stylesheet" href="/static/css/settings.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>

</head>
<body>
  <script type="text/javascript">
    const endpoints = JSON.parse('{{ endpoints | safe }}');
    //deserialize enums
    const status_enum = JSON.parse('{{ status | safe }}');
    if (!status_enum) {
      console.error('Enums not found');
    }
    if (!endpoints) {
      console.error('Endpoints not found');
    }


  </script>

<video id="video" autoplay></video>
<script>
    const videoElement = document.getElementById('video');

    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
        navigator.mediaDevices.getUserMedia({ video: { aspectRatio: 16/9 } })
        .then(function(stream) {
            // Attach the video stream to the video element and autoplay.
            videoElement.srcObject = stream;
        })
        .catch(function(error) {
            console.error("Error accessing media devices.", error);
        });
    } else {
        alert('getUserMedia not supported on your browser!');
    }
</script>

<div id="explenation-text">
  <p>
    Engage in an immersive auditory journey by selecting an section to relive a memory. Complete the questionnaire to generate a personalized soundscape, an auditory interpretation of a memory you describe. The sound sources of each section are located within the enclosureâ€™s plastic bounds. Explore your soundscape by navigating to your source or partake in the auditory memory of others by visiting their source. Prior to initiating your soundscape, please ensure that no one is already using the section. If not, please be patient until the previous participant has finished his experience. Upon activation of your soundscape, you are invited to enter the space, linger for the duration that suits you, and immerse yourself in the recollection. We kindly ask that you remove your footwear before entering. 
    <br>
    <br>
    By participating in this experiment, you agree to the storage of your answers of the questionnaire in an anonymized form. The data will be used for research purposes only and will not be shared with third parties.
    <br>
  </p>
  <p id="names">
    Alessandro Mac-Nelly UDK/TU (alessandro.mac-nelly@web.de)
    <br>
    Franz Hagen UDK/TU (fr.hagen@udk-berlin.de)
    <br>
    Pierre-Louis Suckrow UDK/TU (suckrowpierre@gmail.com)
    <br>
    Filipe Pirl UDK (f.pirl@udk-berlin.de)
      </p>

</div>



<div class="bubble-container">
  <div class="bubble" id="bubble1"><span class="bubble-text">1</span><br><span class="bubble-subtext">nothing</span></div>
  <div class="bubble" id="bubble2"><span class="bubble-text">2</span><br><span class="bubble-subtext">nothing</span></div>
  <div class="bubble" id="bubble3"><span class="bubble-text">3</span><br><span class="bubble-subtext">nothing</span></div>
</div>

<div class="settings-icon">
    <i class="fas fa-cog" id="settings"></i>
</div>

<div id="modal" class="modal">
    <span class="close-button" id="close-modal">&times;</span>
    <div class="modal-content" id="modal-content"></div>
  </div>

<script type="module" src='/static/js/modal.js'></script>
</script>
</body>
</html>